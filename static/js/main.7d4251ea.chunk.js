(this.webpackJsonpconverser=this.webpackJsonpconverser||[]).push([[0],[,,,,,,,,,,,function(e,t,a){e.exports=a(23)},,,,,function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(5),s=a.n(o),c=(a(16),a(17),a(3)),u=a(1),l=a.n(u),i=a(2),m=a(6),h=a(7),f=a(9),v=a(8),p=a(10);a(19);var d=function(){return r.a.createElement("div",{className:"wrapper__nav"},r.a.createElement("h1",{className:"wrapper__nav--title"},"Currency Converter"))};a(20);function y(){return r.a.createElement("div",{className:"wrapper__footer"},"Jesus Chacon \xa92019")}a(21);var b=function(e){var t=[];for(var a in e.listMoney)t.push(a);return r.a.createElement("div",{className:"form__money"},r.a.createElement("input",{type:"number",className:"monto",name:"from",id:"",placeholder:"Monto",value:e.valueMoney,onChange:e.valueChange}),r.a.createElement("select",{value:e.symbolMoney,onChange:e.symbolChange,name:"",id:"",className:"money"},t.map((function(e){return r.a.createElement("option",{value:e,key:e},e)}))))},g=(a(22),function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(f.a)(this,Object(v.a)(t).call(this,e))).fetchMoney=Object(i.a)(l.a.mark((function e(){var t,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=window.localStorage.getItem("currencies"),n={},t){e.next=12;break}return e.next=5,fetch("http://free.currconv.com/api/v7/currencies?apiKey=a1e899d15f766cc09eea");case 5:return r=e.sent,e.next=8,r.json();case 8:n=e.sent,window.localStorage.setItem("currencies",JSON.stringify(n)),e.next=15;break;case 12:return e.next=14,JSON.parse(t);case 14:n=e.sent;case 15:a.setState({money:n.results});case 16:case"end":return e.stop()}}),e)}))),a.fetchCurrency=Object(i.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==a.state.quotes.length){e.next=7;break}return e.next=3,a.cacheExist();case 3:if(!e.sent||0!==a.state.quotes.length){e.next=7;break}return e.next=7,a.fetchQuotes();case 7:t=a.valueExist(),a.validation(t),a.setState({fromPais:a.state.money[a.state.fromValue].currencyName,toPais:a.state.money[a.state.toValue].currencyName});case 10:case"end":return e.stop()}}),e)}))),a.handleUpdate=Object(i.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(-1!==(t=a.valueExist())){e.next=5;break}return e.next=4,a.fetchQuotes();case 4:t=a.valueExist();case 5:a.validation(t),a.setState({fromPais:a.state.money[a.state.fromValue].currencyName,toPais:a.state.money[a.state.toValue].currencyName});case 7:case"end":return e.stop()}}),e)}))),a.fetchQuotes=Object(i.a)(l.a.mark((function e(){var t,n,r,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state.fromValue,n=a.state.toValue,e.next=4,fetch("http://free.currconv.com/api/v7/convert?q=".concat(t,"_").concat(n,",").concat(n,"_").concat(t,"&compact=ultra&apiKey=a1e899d15f766cc09eea"));case 4:return r=e.sent,e.next=7,r.json();case 7:o=e.sent,window.localStorage.setItem(a.state.valorN,JSON.stringify(o)),a.setState({quotes:[].concat(Object(c.a)(a.state.quotes),[o])});case 10:case"end":return e.stop()}}),e)}))),a.cacheExist=Object(i.a)(l.a.mark((function e(){var t,n,r,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=!0,n=0;case 2:if(!(r=window.localStorage.getItem("quotes".concat(n)))){e.next=10;break}return e.next=6,JSON.parse(r);case 6:o=e.sent,a.setState({quotes:[].concat(Object(c.a)(a.state.quotes),[o])}),e.next=12;break;case 10:return a.setState({valorN:"quotes".concat(n)}),e.abrupt("return",!0);case 12:n++;case 13:if(t){e.next=2;break}case 14:case"end":return e.stop()}}),e)}))),a.valueExist=function(){for(var e=a.state.quotes,t=a.state.valueChange?"".concat(a.state.fromValue,"_").concat(a.state.toValue):"".concat(a.state.toValue,"_").concat(a.state.fromValue),n=0;n<e.length;n++){var r=e[n];if(r.hasOwnProperty(t))return r[t]}return-1},a.validation=function(e){a.state.valueChange?a.setState({toNumber:Math.round(a.state.fromNumber*e*100)/100}):a.setState({fromNumber:Math.round(a.state.toNumber*e*100)/100})},a.handleChangeSymbolFrom=function(e){var t=e.target.value;t===a.state.toValue?a.setState({toValue:a.state.fromValue,fromValue:t,valueChange:"".concat(a.state.fromValue)}):a.setState({fromValue:t})},a.handleChangeSymbolTo=function(e){var t=e.target.value;t===a.state.fromValue?a.setState({fromValue:a.state.toValue,toValue:t}):a.setState({toValue:t})},a.handleChangeValueFrom=function(e){var t=e.target.value;a.setState({fromNumber:t,valueChange:!0})},a.handleChangeValueTo=function(e){var t=e.target.value;a.setState({toNumber:t,valueChange:!1})},a.state={width:window.innerHeight+"px",fromValue:"USD",toValue:"EUR",fromPais:"",toPais:"",fromNumber:1,toNumber:0,money:{},quotes:[],valueChange:!0,valorN:""},a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.fetchMoney(),this.fetchCurrency()}},{key:"componentDidUpdate",value:function(e,t){(t.fromNumber!==this.state.fromNumber&&this.state.valueChange||t.fromValue!==this.state.fromValue||t.toNumber!==this.state.toNumber&&!this.state.valueChange||t.toValue!==this.state.toValue)&&this.handleUpdate()}},{key:"render",value:function(){return r.a.createElement("div",{className:"container",style:{height:this.state.width}},r.a.createElement(d,null),r.a.createElement("div",{className:"container__conversor"},r.a.createElement("form",{action:"",className:"container__conversor--form"},r.a.createElement(b,{listMoney:this.state.money,symbolMoney:this.state.fromValue,valueMoney:this.state.fromNumber,symbolChange:this.handleChangeSymbolFrom,valueChange:this.handleChangeValueFrom}),r.a.createElement(b,{listMoney:this.state.money,symbolMoney:this.state.toValue,valueMoney:this.state.toNumber,symbolChange:this.handleChangeSymbolTo,valueChange:this.handleChangeValueTo}),r.a.createElement("div",{className:"container__name"},r.a.createElement("span",null,this.state.fromPais),r.a.createElement("span",null,">"),r.a.createElement("span",null,this.state.toPais)))),r.a.createElement(y,null))}}]),t}(n.Component));var N=function(){return r.a.createElement(g,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[11,1,2]]]);
//# sourceMappingURL=main.7d4251ea.chunk.js.map